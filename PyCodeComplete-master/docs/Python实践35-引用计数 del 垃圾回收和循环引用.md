### 引用计数
- Python使用引用计数追踪内存中的对象，当对象的引用计数变为0，它将被垃圾回收
- 对象首次被创建，并且被赋值给变量时，该对象的引用计数为1
- 每当该对象的引用被赋值给其他变量时，该对象引用计数自动加1
- 当对象的一个引用被销毁时，引用计数会自动减1

### del语句
- del语句会删除对象的一个引用
- 这将导致该引用指向的对象的引用计数减1
- 注意：任何追踪或调试程序会给对象增加一个额外引用，这会推迟该对象被回收的时间。

### 垃圾回收
- 垃圾回收器是一块独立的代码，用来寻找引用计数为0的对象。
- 垃圾回收器也负责检查那些虽然引用计数大于0但也该被销毁的对象，因为特定情形下会导致循环引用。
- 循环引用发生在当你有两个对象互相引用时，及时所有的引用都消失了，这些引用仍然存在。下面是一个循环引用的例子：
```
import objgraph  # 可以用来检测内存泄漏

if __name__ == '__main__':
    a = list()
    b = list()
    # 查看list类型对象的数量
    # output: n
    print(objgraph.count('list'))
    a.append(b)
    b.append(a)  # 循环引用

    print(a)
    print(b)
    del a
    del b
    # 再次查看list类型对象的数量
    # output: n
    print(objgraph.count('list'))
```
它的输出如下，在删除了a和b的引用以后，list类型的对象数量不变，说明a,b产生了循环引用。
```
205
[[[...]]]
[[[...]]]
205
```
如果把造成循环引用那句代码注释掉，重新运行。输出如下。
```
205
[[]]
[]
203
```

### 代码下载
本文代码已经归档到github，您可以访问下面的链接获得。  欢迎star该代码仓库
[代码地址](https://github.com/jumper2014/PyCodeComplete/tree/master/practice/runtime/20180131)
